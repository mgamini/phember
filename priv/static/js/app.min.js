window.App=Ember.Application.create({LOG_TRANSITIONS:!0,PLATFORMS:["android","editor","ios","osx","linux","windows"]}),PhoenixSocket();var map=Ember.ArrayPolyfills.map;App.ApplicationStore=DS.Store.extend(),App.PhoenixController=Ember.Controller.extend({socket:null,topics:Ember.Map.create(),init:function(){var e=new Phoenix.Socket(App.PHOENIX_ENDPOINT);this.set("socket",e),e.onClose=this.get("handleClose").bind(this)},addTopic:function(e,t,o,n){this.get("socket").join(e,t,o||{},n||function(){})},handleClose:function(){console.log("connection closed")}}),App.PhoenixSessionController=Ember.Controller.extend({needs:["phoenix"],init:function(){var e=this.get("controllers.phoenix");console.log(e)}});var Transaction=Ember.Object.extend({});App.ListLinkComponent=Ember.Component.extend({tagName:"li",classNameBindings:["active"],active:function(){return this.get("childViews").anyBy("active")}.property("childViews.@each.active")}),App.LoginController=Ember.Controller.extend({needs:["service:session"],actions:{logIn:function(){this.get("service:session").send("join",{token:"tokentokentoken",id:123456789},this.get("logInSuccess"),this.get("logInFailure"))}},logInSuccess:function(){console.log("success",arguments)},logInFailure:function(){console.log("failure",arguments)}}),App.NavigationController=Ember.ArrayController.extend({needs:["service:session","login"],model:Ember.A([Ember.Object.create({title:"Posts",location:"posts",active:null})]),title:"Phember",isLoggedIn:Ember.computed.alias("service:session.isAuthenticated"),actions:{logIn:function(){this.get("controllers.login").send("logIn")}}}),App.PostsEditController=Ember.ObjectController.extend({actions:{updateItem:function(e){var t={};e.setProperties(t),e.save(),this.get("target").transitionTo("posts")},cancel:function(){this.content.deleteRecord(),this.transitionToRoute("posts.index")}},isNew:function(){return this.get("content").get("id")}.property()}),App.PostsIndexController=Ember.ArrayController.extend({hasItems:function(){return this.get("content")}.property("content.@each"),actions:{newPost:function(){this.transitionToRoute("posts.new")}}}),App.PostsNewController=Ember.ObjectController.extend({actions:{submitForm:function(){this.transitionToRoute("posts.index")}}}),App.PostController=Ember.Controller.extend({}),App.Author=DS.Model.extend({first_name:DS.attr("string"),last_name:DS.attr("string"),posts:DS.hasMany("post",{async:!0})}),App.Post=DS.Model.extend({title:DS.attr("string"),body:DS.attr("string"),author:DS.belongsTo("author",{async:!0}),formattedBody:function(){return this.get("body").replace(/\n\r?/g,"<br /><br />")}.property("body").cacheable()}),App.Router.map(function(){this.route("login"),this.route("logout"),this.resource("posts",function(){this.resource("post",{path:":post_id"}),this.route("new"),this.route("edit",{path:"/:post_id"})})}),App.IndexRoute=Ember.Route.extend({}),App.PostsIndexRoute=Ember.Route.extend({model:function(){return this.store.findAll("post")}}),App.PostsNewRoute=Ember.Route.extend({model:function(){return this.store.createRecord("post")},setupController:function(){this.controllerFor("posts.edit").setProperties({isNew:!0,content:this.store.createRecord("post")})},renderTemplate:function(){this.render("posts.edit")}}),App.Utils={camelizeObj:function(e){var t={};return Object.keys(e).forEach(function(o){t[Ember.String.camelize(o)]=e[o]}),t},typeChecker:function(e){return"object"==typeof e?e instanceof Array?"array":"object":typeof e},findIdx:function(e,t,o){var n=null;return e.some(function(e,r){e&&e[t]==o&&(n=r)}),n},authCookie:{toObj:function(e){try{return JSON.parse(atob(e))}catch(t){return!1}},fromObj:function(e){try{return bota(JSON.stringify(e))}catch(t){return!1}}}},App.NavigationView=Ember.View.extend({tagName:"nav",classNames:["top-bar","navbar"],templateName:"navigation"}),App.PostView=Ember.View.extend({});